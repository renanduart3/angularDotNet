<div class="container">
  <div class="row justify-content-center">
    <div class="col-lg-7">
      <div class="card shadow-lg border-0 rounded-lg mt-5">
        <div class="card-header">
          <h3 class="text-center font-weight-light my-4">Create Account</h3>
        </div>
        <div class="card-body">
          <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <div class="form-row">
              <div class="col-md-6">
                <div class="form-group">
                  <label class="small mb-1" for="inputuserName">User Name</label>
                  <input formControlName="userName" [ngClass]="{'is-invalid': form.get('userName').errors && 
                  form.get('userName').touched }" class="form-control py-4" id="inputuserName" type="text"
                    placeholder="Enter Full name" />
                  <div class="invalid-feedback" *ngIf="form.get('userName').hasError('required')">Nome de usuario obrigatório
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label class="small mb-1" for="inputFullName">Full Name</label>
                  <input formControlName="fullName" [ngClass]="{'is-invalid': form.get('fullName').errors && 
                  form.get('fullName').touched }" class="form-control py-4" id="inputFullName" type="text"
                    placeholder="Enter Full name" />
                  <div class="invalid-feedback" *ngIf="form.get('fullName').hasError('required')">Nome obrigatório
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label class="small mb-1" for="inputEmailAddress">Email</label>
              <input formControlName="email"
                [ngClass]="{'is-invalid': form.get('email').errors && form.get('email').touched }"
                class="form-control py-4" id="inputEmailAddress" type="email" aria-describedby="emailHelp"
                placeholder="Enter email address" />
              <div class="invalid-feedback" *ngIf="form.get('email').hasError('required')">email obrigatório
              </div>
            </div>

            <div formGroupName="passwords">
              <div class="form-row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="small mb-1" for="inputPassword">Password</label>
                    <input
                      [ngClass]="{'is-invalid': form.get('passwords.password').errors && form.get('passwords.password').touched }"
                      formControlName="password" class="form-control py-4" id="inputPassword" type="password"
                      placeholder="Enter password" />
                    <div *ngIf="form.get('passwords.password').hasError('required') &&
                                form.get('passwords.password').touched" class="invalid-feedback">
                      Senha obrigatoria
                    </div>
                    <div *ngIf="form.get('passwords.password').hasError('minlength') &&
                                form.get('passwords.password').touched" class="invalid-feedback">
                      Deve conter no mínimo 3 caracters
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="small mb-1" for="inputconfirmpassword">
                      Confirm Password
                    </label>
                    <input
                      [ngClass]="{'is-invalid': form.get('passwords.confirmpassword').errors && form.get('passwords.confirmpassword').touched }"
                      formControlName="confirmpassword" class="form-control py-4" id="inputconfirmpassword"
                      type="password" placeholder="Confirm password" />
                    <div *ngIf="form.get('passwords.confirmpassword').hasError('mismatch') 
                                && form.get('passwords.confirmpassword').touched" class="invalid-feedback">
                      Confirmação não confere
                    </div>
                  </div>

                </div>
              </div>

            </div>
            <div class="form-group mt-4 mb-0">
              <button class="btn btn-primary btn-block">
                Create Account
              </button>
            </div>
          </form>
        </div>
        <div class="card-footer text-center">
          <div class="small"><a routerLink="/user/login">Have an account? Go to login</a></div>
        </div>
      </div>
    </div>
  </div>
</div>
<p>{{form.value | json}}</p>
<p>{{form.status | json}}</p>